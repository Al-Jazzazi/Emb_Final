#ifndef INDICATORS_H
#define INDICATORS_H

#include <Arduino.h>

// Assign your LED pins
const int GREEN_LED = 3;
const int YELLOW_LED = 4;
const int RED_LED = 5;

void setupIndicators() {
    pinMode(GREEN_LED, OUTPUT);
    pinMode(YELLOW_LED, OUTPUT);
    pinMode(RED_LED, OUTPUT);
}

// freq in Hz, nothing returned
void showIndicators(float freq) {
    // Turn off all LEDs first
    digitalWrite(GREEN_LED, LOW);
    digitalWrite(YELLOW_LED, LOW);
    digitalWrite(RED_LED, LOW);

    if (freq >= 3.0 && freq <= 5.0) {
        // Tremor detected (yellow blink)
        digitalWrite(YELLOW_LED, HIGH);
        delay(100);  // Short blink
        digitalWrite(YELLOW_LED, LOW);
    } else if (freq > 5.0 && freq <= 7.0) {
        // Dyskinesia detected (red blink)
        digitalWrite(RED_LED, HIGH);
        delay(100);
        digitalWrite(RED_LED, LOW);
    } else {
        // Normal state (green solid)
        digitalWrite(GREEN_LED, HIGH);
    }
}

#endif
